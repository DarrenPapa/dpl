&use {std/text_io.py}

fn fib(n)
    set a = 1
    set b = 0
    while (:n > 0)
        set c = [:a+:b]
        set b = :c
        set a = :b
        set n = [:n - 1] 
    end
    return :a
end

<<<<<<< HEAD
catch (result) fib 5
io:println :result
io:input name "Name: "
io:println 'Name is ${name}'
=======
START_TIME
mcatch (result) fib 10000
STOP_TIME
LOG_TIME "mcatch: first pass"
START_TIME
mcatch (result) fib 10000
STOP_TIME
LOG_TIME "mcatch: second pass"

set cache = .dict
set n = 10000
START_TIME
switch [:n in :cache]
    case true
        set a = [:cache<:n>]
    end
    default
        local :fib
        set 'cache.${n}' = :a
    end
end
STOP_TIME
LOG_TIME "User Defined: first pass"

START_TIME
switch [:n in :cache]
    case true
        set a = [:cache<:n>]
    end
    default
        local :fib
        set 'cache.${n}' = :a
    end
end
STOP_TIME
LOG_TIME "User Defined: second pass"
>>>>>>> 1.4.8
